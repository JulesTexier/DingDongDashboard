  <%= form_for @subscriber, url: '/subscribe-create' do |f| %>
   
    <div class="d-flex justify-content-center align-items-center mt-4">
        <img style="width: 40px;" class="mr-2" src="https://hellodingdong.com/ressources/identite.png" alt="identit√© Ding Dong"><img>
        <h4 class="text-center mb-0" style="color: #0470C1; font-weight:400">
            <b>Identit√©</b>
        </h4>
    </div>
      <div class="row">
        <div class="col-12 col-md-6">
          <h5 class="mt-4 mb-3" style="color: #0470C1; font-weight:400">‚¨ÖÔ∏è Pr√©nom *</h5>
          <div class="input-group mb-3">
              <%= f.text_field :firstname, class: "form-control", placeholder:"Jean", :required => true   %>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <h5 class="mt-4 mb-3" style="color: #0470C1; font-weight:400">‚û°Ô∏è Nom *</h5>
          <div class="input-group mb-3">
              <%= f.text_field :lastname, class: "form-control", placeholder:"Dupond", :required => true   %>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12 col-md-6">
          <h5 class="mt-4 mb-3" style="color: #0470C1; font-weight:400">üìß Email *</h5>
          <div class="input-group mb-3">
              <%= f.email_field :email, class: "form-control", placeholder:"jean.dupond@gmail.com", :required => true   %>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <h5 class="mt-4 mb-3" style="color: #0470C1; font-weight:400">üìû T√©l√©phone *</h5>
          <div class="input-group mb-3">
              <%= f.text_field :phone, class: "form-control", placeholder:"0783746253", :required => true   %>
          </div>
        </div>
      </div>

    

      <h5 class="mt-4 mb-3" style="color: #0470C1; font-weight:400">üì± Notre alerte est uniquement disponible sur Messenger, avez-vous un compte Facebook ? *</h5>
      <% messenger_choices = [true, false]%>
      <% messenger_choices_labels = ["Oui", "Non"]%>
      <div class="input-group mb-3">
        <div class="d-flex flex-wrap">
          <% messenger_choices.each_with_index do |messenger_choice, index| %>
            <label 
                for="<%=messenger_choice%>"
                class="form-check mr-3 mb-2 <%=messenger_choice%> d-flex radio-button box_hover label_non_active"
                onclick="changeColorRadioButton(className)"
            >       <div>
                        <%= f.radio_button :has_messenger,
                            messenger_choice, 
                            class: "box_hover",
                            id: messenger_choice,
                            required: true
                        %>
                    </div>
                    <span class="form-check-label mb-2 ml-2 box_hover" >
                        <%= messenger_choices_labels[index] %>
                    </span>

            </label>
          <% end %>
        </div>        
      </div>

      <%= f.hidden_field :project_type, value:@draft_subscriber["project_type"]  %>
      <%= f.hidden_field :max_price, value:@draft_subscriber["max_price"]  %>
      <%= f.hidden_field :min_surface, value:@draft_subscriber["min_surface"]  %>
      <%= f.hidden_field :min_rooms_number, value:@draft_subscriber["min_rooms_number"]  %>
      <%= f.hidden_field :specific_criteria, value:@draft_subscriber["specific_criteria"]  %>
      <%= f.hidden_field :initial_areas, value:@draft_subscriber["selected_areas"]  %>
      <%= f.hidden_field :project_type, value:@draft_subscriber["project_type"]  %>


        


      <nav class="navbar navbar-light fixed-bottom d-flex justify-content-center bg-blue">
        <div class="d-flex justify-content-center mt-2 mb-2">
            <%= f.submit "Acc√©der √† Ding Dong üöÄ", 
                class: "btn btn-outline-light", 
                style:"font-weight:600"
            %>
        </div>
      </nav>

       

        <div class="d-flex justify-content-center mt-4 mb-5">
        üß°
        </div>
    <% end %>



<script>

    function changeColorRadioButton(className) {
      let labels = document.getElementsByClassName("radio-button")
      let item = document.getElementsByClassName(className)[0]
      let checkboxValue = item.children[0].children[0].checked
    
      if(checkboxValue){ 
          for(i=0; i < labels.length; i++){
              labels[i].classList.remove('label_active')
              labels[i].className += " label_non_active"
          }
          item.classList.remove('label_non_active')
          item.className += " label_active"
        }
    }


</script>